import{d as Z,c as u,a as B,g,r as h,t as b,b as I,i as x,e as j,f as w,j as _,P as z}from"./web.CGV0YjKn.js";var H=b('<button class="btn de y"><svg class=dh xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor><path d="M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z">'),N=b('<dialog class=modal><div class=f><button class="btn ju dd y absolute ay av">✕</button><h3 class="io im cn">全站搜索</h3><label class="input el cn"><svg class="dg jj"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor><path d="M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"></path></svg><input type=search placeholder=输入搜索内容... id=search></label><!$><!/>'),q=b('<div role=presentation class="transition fa kt mp group block gd io hv hz ky nb"><div class="transition db iw im ki na"></div><div class="transition ip">');const Y=()=>{const[L,n]=u(!1),[f,m]=u(!1),[$,l]=u([]),C=async t=>{if(!f()&&(l([]),t)){const e=await window.pagefind.search(t),o=[];for(const i of e.results)o.push(await i.data());l(o)}},k=t=>{window.pjax.load(t).then(()=>{n(!1),l([]);const e=document.getElementById("search");e&&(e.value=""),a()})};let r=0;const M=()=>{r=window.scrollY,document.body.style.position="fixed",document.body.style.top=-r+"px",document.body.style.width="100%",document.body.style.height="100%",n(!0)},a=()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.height="",window.scrollTo(0,r),n(!1)};return[(()=>{var t=g(H);return t.$$click=M,h(),t})(),B(z,{get mount(){return document.body},get children(){var t=g(N),e=t.firstChild,o=e.firstChild,i=o.nextSibling,y=i.nextSibling,S=y.firstChild,c=S.nextSibling,E=y.nextSibling,[R,T]=I(E.nextSibling);return t.$$click=a,e.$$click=s=>s.stopPropagation(),o.$$click=a,c.addEventListener("compositionend",s=>{m(!1),C(s.currentTarget.value).then()}),c.addEventListener("compositionstart",()=>m(!0)),c.$$input=s=>{f()||C(s.target.value).then()},x(e,(()=>{var s=j(()=>$().length>0);return()=>s()&&$().map(d=>(()=>{var p=g(q),v=p.firstChild,P=v.nextSibling;return p.$$click=()=>k(d.url),x(v,()=>d.meta.title),w(()=>_(P,"innerHTML",d.excerpt)),h(),p})())})(),R,T),w(()=>_(t,"open",L())),h(),t}})]};Z(["click","input"]);export{Y as default};
